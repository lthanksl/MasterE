<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	#table{
		width: 600px;
		border-collapse: collapse;
	}
	#table td{
		border:1px solid black;
		padding: 4px
	}
</style>
</head>
<body>
	<h1>jQuery를 이용한 전체선택</h1>
	<table id="table">
		<caption>체크박스 연습</caption>
		<colgroup>
			<col width="40px"/>
			<col width="*"/>
		</colgroup>
		<thead>
			<tr>
				<td colspan="2">
					<input type="checkbox" id="all"/>
					<em>전체선택</em>
					<!-- emphasize태그는
					문장 내에서 강조하고 싶을 때
					사용함!(i태그와 strong태그를 합친) -->
				</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<input type="checkbox" id="ch1"/>
				</td>
				<td>항목1</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch2"/>
				</td>
				<td>항목2</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch3"/>
				</td>
				<td>항목3</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch4"/>
				</td>
				<td>항목4</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch5"/>
				</td>
				<td>항목5</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch6"/>
				</td>
				<td>항목6</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" id="ch7"/>
				</td>
				<td>항목7</td>
			</tr>
		</tbody>
	</table>
	
	<script src="js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript">
		$(function(){
			
			//jQuery의 시작부분
			
			$("#all").on("click",function(){
				//아이디가 all인 요소를 클릭할 때
				//마다 수행하는 곳!
				
				//테이블 안에 있는 모든 체크박스들을
				//가져온다.
				//var ar = $("#table tbody input[type=checkbox]");
				var ar = $("#table tbody").find(
									":checkbox");
				var arTr = $("#table tbody tr");
				console.log(arTr.length);
				for (var i = 0; i < arTr.length; i++) {
					console.log("#ch"+ (i+1));
					$("#ch"+ (i+1)).prop("checked", this.checked)
				}
				
				
				//현재영역에서 thks는 아이디가 all인 요소다.
				//이요소의 다음에 있는 태그가 바로 em이다.
				if(this.checked)
				{
					$(this).next().text("선택해제");
				}
				else
				{
					$(this).next().text("전체선택");
				}
				
				console.log(ar.length);
			});
		
		});
	</script>
</body>
</html>







